{"version":3,"file":"functions.js","mappings":"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","sources":["webpack:///./src/functions/functions.js?"],"sourcesContent":["/* eslint-disable no-unused-vars */\n/* global console setInterval, clearInterval */\n\n/**\n * Add two numbers\n * @customfunction\n * @param {number} first First number\n * @param {number} second Second number\n * @returns {number} The sum of the two numbers.\n */\nfunction add(first, second) {\n  return first + second;\n}\n\n/**\n * Displays the current time once a second\n * @customfunction\n * @param {CustomFunctions.StreamingInvocation<string>} invocation Custom function invocation\n */\nfunction clock(invocation) {\n  const timer = setInterval(() => {\n    const time = currentTime();\n    invocation.setResult(time);\n  }, 1000);\n\n  invocation.onCanceled = () => {\n    clearInterval(timer);\n  };\n}\n\n/**\n * Returns the current time\n * @returns {string} String with the current time formatted for the current locale.\n */\nfunction currentTime() {\n  return new Date().toLocaleTimeString();\n}\n\n/**\n * Increments a value once a second.\n * @customfunction\n * @param {number} incrementBy Amount to increment\n * @param {CustomFunctions.StreamingInvocation<number>} invocation\n */\nfunction increment(incrementBy, invocation) {\n  let result = 0;\n  const timer = setInterval(() => {\n    result += incrementBy;\n    invocation.setResult(result);\n  }, 1000);\n\n  invocation.onCanceled = () => {\n    clearInterval(timer);\n  };\n}\n\n/**\n * Writes a message to console.log().\n * @customfunction LOG\n * @param {string} message String to write.\n * @returns String to write.\n */\nfunction logMessage(message) {\n  console.log(message);\n\n  return message;\n}\n\n/**\n * Get manglish of malayalam\n * @customfunction\n * @param {string} input Malayalam word\n * @returns {string} Manglish word\n */\n\nfunction ml2en(input) {\n  var _vowels = {\n    \"അ\": \"a\", \"ആ\": \"aa\", \"ഇ\": \"i\", \"ഈ\": \"ee\", \"ഉ\": \"u\", \"ഊ\": \"oo\", \"ഋ\": \"ru\",\n    \"എ\": \"e\", \"ഏ\": \"e\", \"ഐ\": \"ai\", \"ഒ\": \"o\", \"ഓ\": \"o\", \"ഔ\": \"au\"\n  };\n\n  var _compounds = {\n    \"ക്ക\": \"kk\", \"ഗ്ഗ\": \"gg\", \"ങ്ങ\": \"ng\", \"ച്ച\": \"cch\", \"ജ്ജ\": \"jj\", \"ഞ്ഞ\": \"nj\",\n    \"ട്ട\": \"tt\", \"ണ്ണ\": \"nn\",\n    \"ത്ത\": \"tth\", \"ദ്ദ\": \"ddh\", \"ദ്ധ\": \"ddh\", \"ന്ന\": \"nn\",\n    \"ന്ത\": \"nth\", \"ങ്ക\": \"nk\", \"ണ്ട\": \"nd\", \"ബ്ബ\": \"bb\",\n    \"പ്പ\": \"pp\", \"മ്മ\": \"mm\",\n    \"യ്യ\": \"yy\", \"ല്ല\": \"ll\", \"വ്വ\": \"vv\", \"ശ്ശ\": \"sh\", \"സ്സ\": \"s\",\n    \"ക്സ\": \"ks\", \"ഞ്ച\": \"nch\", \"ക്ഷ\": \"ksh\", \"മ്പ\": \"mp\", \"റ്റ\": \"tt\", \"ന്റ\": \"nt\",\n    \"ന്ത്യ\": \"nthy\"\n  };\n\n  var _consonants = {\n    \"ക\": \"k\", \"ഖ\": \"kh\", \"ഗ\": \"g\", \"ഘ\": \"gh\", \"ങ\": \"ng\",\n    \"ച\": \"ch\", \"ഛ\": \"chh\", \"ജ\": \"j\", \"ഝ\": \"jh\", \"ഞ\": \"nj\",\n    \"ട\": \"t\", \"ഠ\": \"dt\", \"ഡ\": \"d\", \"ഢ\": \"dd\", \"ണ\": \"n\",\n    \"ത\": \"th\", \"ഥ\": \"th\", \"ദ\": \"d\", \"ധ\": \"dh\", \"ന\": \"n\",\n    \"പ\": \"p\", \"ഫ\": \"ph\", \"ബ\": \"b\", \"ഭ\": \"bh\", \"മ\": \"m\",\n    \"യ\": \"y\", \"ര\": \"r\", \"ല\": \"l\", \"വ\": \"v\",\n    \"ശ\": \"sh\", \"ഷ\": \"sh\", \"സ\": \"s\", \"ഹ\": \"h\",\n    \"ള\": \"l\", \"ഴ\": \"zh\", \"റ\": \"r\"\n  };\n\n  var _chil = {\n    \"ൽ\": \"l\", \"ൾ\": \"l\", \"ൺ\": \"n\",\n    \"ൻ\": \"n\", \"ർ\": \"r\", \"ൿ\": \"k\"\n  };\n\n  var _modifiers = {\n    \"ു്\": \"u\", \"ാ\": \"aa\", \"ി\": \"i\", \"ീ\": \"ee\",\n    \"ു\": \"u\", \"ൂ\": \"oo\", \"ൃ\": \"ru\",\n    \"െ\": \"e\", \"േ\": \"e\", \"ൈ\": \"y\",\n    \"ൊ\": \"o\", \"ോ\": \"o\", \"ൌ\": \"ou\", \"ൗ\": \"au\",\n    \"ഃ\": \"a\"\n  };\n\n\n  // ______ transliterate a malayalam string to english phonetically\n  function transliterate(input) {\n    // replace zero width non joiners\n    input = input.replace(/[\\u200B-\\u200D\\uFEFF]/g, '');\n\n    // replace modified compounds first\n    input = _replaceModifiedGlyphs(_compounds, input);\n\n    // replace modified non-compounds\n    input = _replaceModifiedGlyphs(_vowels, input);\n    input = _replaceModifiedGlyphs(_consonants, input);\n\n    var v = '';\n    // replace unmodified compounds\n    for (var k in _compounds) {\n      if (!_compounds.hasOwnProperty(k)) continue;\n\n      v = _compounds[k];\n\n      input = input.replace(new RegExp(k + \"്([\\\\w])\", 'g'), v + '$1');\t// compounds ending in chandrakkala but not at the end of the word\n      input = input.replace(new RegExp(k + \"്\", 'g'), v + 'u');\t// compounds ending in chandrakkala have +'u' pronunciation\n      input = input.replace(new RegExp(k, 'g'), v + 'a');\t// compounds not ending in chandrakkala have +'a' pronunciation\n    }\n\n    // glyphs not ending in chandrakkala have +'a' pronunciation\n    for (var k in _consonants) {\n      if (!_consonants.hasOwnProperty(k)) continue;\n\n      v = _consonants[k];\n      input = input.replace(new RegExp(k + \"(?!്)\", 'g'), v + 'a');\n    }\n\n    // glyphs ending in chandrakkala not at the end of a word\n    for (var k in _consonants) {\n      if (!_consonants.hasOwnProperty(k)) continue;\n\n      v = _consonants[k];\n      input = input.replace(new RegExp(k + \"്(?![\\\\s\\)\\.;,\\\"'\\/\\\\\\%\\!])\", 'ig'), v);\n    }\n\n    // remaining glyphs ending in chandrakkala will be at end of words and have a +'u' pronunciation\n    for (var k in _consonants) {\n      if (!_consonants.hasOwnProperty(k)) continue;\n\n      v = _consonants[k];\n      input = input.replace(new RegExp(k + \"്\", 'g'), v + 'u');\n    }\n\n    // remaining consonants\n    for (var k in _consonants) {\n      if (!_consonants.hasOwnProperty(k)) continue;\n\n      v = _consonants[k];\n      input = input.replace(new RegExp(k, 'g'), v);\n    }\n\n    // vowels\n    for (var k in _vowels) {\n      if (!_vowels.hasOwnProperty(k)) continue;\n\n      v = _vowels[k];\n      input = input.replace(new RegExp(k, 'g'), v);\n    }\n\n    // chillu glyphs\n    for (var k in _chil) {\n      if (!_chil.hasOwnProperty(k)) continue;\n\n      v = _chil[k];\n      input = input.replace(new RegExp(k, 'g'), v);\n    }\n\n    // anusvaram 'am' at the end\n    input = input.replace(/ം/g, 'm');\n\n    // replace any stray modifiers that may have been left out\n    for (var k in _modifiers) {\n      if (!_modifiers.hasOwnProperty(k)) continue;\n\n      v = _modifiers[k];\n      input = input.replace(new RegExp(k, 'g'), v);\n    }\n\n    // capitalize first letter of sentences for better aeshetics\n    input = input.replace(/(^\\s*\\w|[\\.\\!\\?]\\s*\\w)/g, function (c) { return c.toUpperCase(); });\n\n    return input;\n  }\n\n  // ______ replace modified glyphs\n  function _replaceModifiedGlyphs(glyphs, input) {\n    // see if a given set of glyphs have modifiers trailing them\n    var match = 0,\n      re = new RegExp(\"(\" + _getKeys(glyphs).join('|') + \")(\" + _getKeys(_modifiers).join('|') + \")\", 'g');\n\n    // if yes, replace the glpyh with its roman equivalent, and the modifier with its\n    while (match != null) {\n      match = re.exec(input);\n      if (match)\n        input = input.replace(new RegExp(match[0], 'g'), glyphs[match[1]] + _modifiers[match[2]]);\n    }\n\n    return input;\n  }\n\n  // ______ get the keys of an object literal\n  function _getKeys(o) {\n    var keys = [];\n    for (var k in o) {\n      if (o.hasOwnProperty(k)) {\n        keys.push(k);\n      }\n    }\n\n    return keys;\n  }\n\n  // _____ construct\n  return transliterate(input);\n};\n\nCustomFunctions.associate(\"ADD\", add);\nCustomFunctions.associate(\"CLOCK\", clock);\nCustomFunctions.associate(\"INCREMENT\", increment);\nCustomFunctions.associate(\"LOG\", logMessage);\nCustomFunctions.associate(\"ML2EN\", ml2en);"],"names":["CustomFunctions","associate","first","second","invocation","timer","setInterval","time","Date","toLocaleTimeString","setResult","onCanceled","clearInterval","incrementBy","result","message","console","log","input","_vowels","_compounds","_consonants","_chil","_modifiers","_replaceModifiedGlyphs","glyphs","match","re","RegExp","_getKeys","join","exec","replace","o","keys","k","hasOwnProperty","push","v","c","toUpperCase","transliterate"],"sourceRoot":""}